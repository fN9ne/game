function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$(document).ready((function(){let e=$(".burger-menu__button"),t=$(".main-menu");function a(){$(".menu").removeClass("active"),e.removeClass("active"),e.removeClass("arrow")}e.click((function(){e.hasClass("active")?e.hasClass("arrow")?(e.removeClass("arrow"),$(".menu").removeClass("active"),t.addClass("active")):a():(e.addClass("active"),t.addClass("active"))})),$(".tab").click((function(){let l=$(this).attr("data-link");if(void 0===l);else{t.removeClass("active");for(let e=0;e<$(".menu").length;e++){let t=l+"-menu";$(".menu").eq(e).hasClass(t)&&$("."+t).addClass("active")}$(".sub-menu.active").length>0?e.addClass("arrow"):e.removeClass("arrow")}0===$(".menu.active").length&&a()})),w("max_health")>-1&&(document.cookie="max_health=-1;max-age=-1;");let l,o,n,s,d,i,c,m=$(".shop-menu__tab");function h(){w("dpc")>=10&&m.eq(1).removeClass("hide"),w("dpc")>=50&&m.eq(2).removeClass("hide"),w("dpc")>=100&&m.eq(3).removeClass("hide"),w("dpc")>=240&&m.eq(4).removeClass("hide"),w("dpc")>=375&&m.eq(5).removeClass("hide"),w("money")>=15?$(".reload").removeClass("hide"):$(".reload").addClass("hide")}m.each((function(e){$(this).attr("data-num",e)})),h(),-1==w("update")?$(".update").addClass("active"):$(".update").removeClass("active"),$(".update__btn").click((function(){document.cookie="update=1;max-age=48004800;",A()})),-1==w("money")?l=0:(l=+w("money"),$("#money").html(l)),o=-1==w("dpc")?1:+w("dpc"),$("#dpc").html(o),$(".dpc").click((function(e){let t=+$(this).find("span[id=dpcCost]").text(),a=+$(this).find("span[id=dpcBuff]").text();if(l<t){$(this).addClass("not-enough"),$(this).append('<span class="not-enough__elipse"></span>');let t=e.offsetX,a=e.offsetY;$(".not-enough__elipse").css({top:a,left:t}),setTimeout(()=>{$(".not-enough__elipse").remove(),$(this).removeClass("not-enough")},1e3)}else $(this).hasClass("mult")?(o*=2,l-=t):(o+=a,l-=t),$("#dpc").html(o),q("dpc",o),$("#money").html(l),q("money",l),d=s/n*o,h()}));let u=$(".content");c=-1==w("cEn")?0:+w("cEn");let r=$(".enemy"),f=r.eq(c);i=-1==w("mh")?u.attr("data-health"):+w("mh"),s=w("hbp")<1?100:+w("hbp"),n=-1==w("health")?i:+w("health"),u.attr("data-health",i),d=s/n*o;const C=$(".health__current"),p=$("#max_health"),v=$("#current_health");function _(){v.html(n),p.html(i)}function g(){C.attr("data-health",s),C.css("width",s+"%")}function k(){if(u.attr("data-health",Math.round(1.075*u.attr("data-health"))),f.removeClass("active"),f.removeClass("defeat"),c++,c==r.length)return c=-1,k(),!1;f=r.eq(c),f.addClass("active"),q("cEn",c),u.attr("data-health")>=1e6?l+=16:u.attr("data-health")>=25e4?l+=8:u.attr("data-health")>=5e4?l+=4:u.attr("data-health")>=5e3&&(l+=2),u.attr("data-health")<5e3&&l++,y++,$("#kills").html(y),q("kills",y),$("#money").html(l),q("money",l),i=u.attr("data-health"),q("mh",i),n=i,q("health",n),s=100,d=s/n*o,_(),g(),h()}let y,b;function x(){let e=+$("#total_damage").html();if(e>1e6){$("#total_damage").addClass("million");let t=e/1e6;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e9){$("#total_damage").addClass("billion");let t=e/1e9;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e12){$("#total_damage").addClass("trillion");let t=e/1e12;$("#total_damage").html(Math.round(100*t)/100)}}function A(){document.cookie="dpc=-1;max-age=-1;",document.cookie="money=-1;max-age=-1;",document.cookie="td=-1;max-age=-1;",document.cookie="kills=-1;max-age=-1;",document.cookie="hbp=-1;max-age=-1;",document.cookie="health=-1;max-age=-1;",document.cookie="mh=-1;max-age=-1;",document.cookie="cEn=-1;max-age=-1"}function w(e){e+="=";let t=document.cookie.indexOf(e);if(-1==t)return-1;t+=e.length;let a=document.cookie.indexOf(";",t);return-1==a&&(a=document.cookie.length),document.cookie.substring(t,a)}function q(e,t){document.cookie=`${e}=${t};max-age=48004800;`}f.addClass("active"),_(),g(),r.click((function(e){if(0!=v.html()){s-=d,s=Math.round(1e3*s)/1e3,s<0&&(s=0),q("hbp",s),n-=o,q("health",n),b+=+o,$("#total_damage").html(b),q("td",b),x(),g(),_(),$(".minus-hp").remove(),$(this).append(`<span class="minus-hp">-${o}</span>`);let t=e.offsetX,a=e.offsetY;$(".minus-hp").css({top:a,left:t})}v.html()<=0&&(f.addClass("defeat"),setTimeout(k,1e3),v.html(0))})),$(".reload").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__sure").removeClass("hide"),$(".null-confirm__yes").removeClass("yes-null"),$(".null-confirm__yes").addClass("yes-reload")})),y=-1==w("kills")?0:+w("kills"),$("#kills").html(y),b=-1==w("td")?0:+w("td"),$("#total_damage").html(b),x(),$(".tab[data-link=null]").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__yes").addClass("yes-null"),$(".null-confirm__yes").removeClass("yes-reload"),$(".null-confirm__sure").removeClass("hide")})),$(".null-confirm__yes").click((function(){$(this).hasClass("yes-null")&&A(),$(this).hasClass("yes-reload")&&(i=u.attr("data-base"),n=i,l-=15,moneyK=l/100*30,l-=moneyK.toFixed(),dpcK=o/100*40,o-=dpcK.toFixed(),q("dpc",o),q("money",l),q("mh",i),q("health",n))})),$(".null-confirm__area, .null-confirm__no").click((function(){$(".null-confirm").removeClass("active")}))}));