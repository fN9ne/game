function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$(document).ready((function(){let e,t,a,l,o,n,i=$(".burger-menu__button"),m=$(".main-menu");function d(){$(".menu").removeClass("active"),i.removeClass("active"),i.removeClass("arrow")}i.click((function(){i.hasClass("active")?i.hasClass("arrow")?(i.removeClass("arrow"),$(".menu").removeClass("active"),m.addClass("active")):d():(i.addClass("active"),m.addClass("active"))})),$(".tab").click((function(){let e=$(this).attr("data-link");if(void 0===e);else{m.removeClass("active");for(let t=0;t<$(".menu").length;t++){let a=e+"-menu";$(".menu").eq(t).hasClass(a)&&$("."+a).addClass("active")}$(".sub-menu.active").length>0?i.addClass("arrow"):i.removeClass("arrow")}0===$(".menu.active").length&&d()})),-1==k("money")?e=0:(e=+k("money"),$("#money").html(e)),t=-1==k("dpc")?1:+k("dpc"),$("#dpc").html(t),$(".dpc").click((function(){let n=+$(this).find("span[id=dpcCost]").text(),i=+$(this).find("span[id=dpcBuff]").text();e<n?alert("not enough money"):(t+=i,e-=n,$("#dpc").html(t),p("dpc",t),$("#money").html(e),p("money",e),o=l/a*t)}));let c=$(".enemy");n=-1==k("mh")?c.attr("data-health"):+k("mh"),l=k("hbp")<1?100:+k("hbp"),a=-1==k("health")?n:+k("health"),c.attr("data-health",n),o=l/a*t;const s=$(".health__current"),h=$("#max_health"),u=$("#current_health");function r(){u.html(a),h.html(n)}function f(){s.attr("data-health",l),s.css("width",l+"%")}function v(){c.removeClass("defeat"),c.attr("data-health",Math.round(1.1*c.attr("data-health"))),n=c.attr("data-health"),p("mh",n),a=n,p("health",a),l=100,o=l/a*t,r(),f(),_++,e++,$("#kills").html(_),p("kills",_),$("#money").html(e),p("money",e)}let _,g;function C(){let e=+$("#total_damage").html();if(e>1e6){$("#total_damage").addClass("million");let t=e/1e6;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e9){$("#total_damage").addClass("billion");let t=e/1e9;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e12){$("#total_damage").addClass("trillion");let t=e/1e12;$("#total_damage").html(Math.round(100*t)/100)}}function k(e){e+="=";let t=document.cookie.indexOf(e);if(-1==t)return-1;t+=e.length;let a=document.cookie.indexOf(";",t);return-1==a&&(a=document.cookie.length),document.cookie.substring(t,a)}function p(e,t){document.cookie=`${e}=${t};max-age=48004800;`}c.addClass("active"),r(),f(),c.click((function(e){if(0!=u.html()){l-=o,l=Math.round(1e3*l)/1e3,l<0&&(l=0),p("hbp",l),a-=t,p("health",a),g+=+t,$("#total_damage").html(g),p("td",g),C(),f(),r(),$(".minus-hp").remove(),$(this).append(`<span class="minus-hp">-${t}</span>`);let n=e.offsetX,i=e.offsetY;$(".minus-hp").css({top:i,left:n})}u.html()<=0&&(c.addClass("defeat"),setTimeout(v,1e3),u.html(0))})),_=-1==k("kills")?0:+k("kills"),$("#kills").html(_),g=-1==k("td")?0:+k("td"),$("#total_damage").html(g),C(),$(".tab[data-link=null]").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__video").removeClass("hide"),$(".null-confirm__video")[0].play(),$(".null-confirm__sure").addClass("hide")})),$(".null-confirm__video").on("ended",(function(){$(this).addClass("hide"),$(".null-confirm__sure").removeClass("hide")})),$(".null-confirm__video")[0].volume=.4,$(".null-confirm__yes").click((function(){document.cookie="dpc=-1;max-age=-1;",document.cookie="money=-1;max-age=-1;",document.cookie="td=-1;max-age=-1;",document.cookie="kills=-1;max-age=-1;",document.cookie="hbp=-1;max-age=-1;",document.cookie="health=-1;max-age=-1;",document.cookie="mh=-1;max-age=-1;"})),$(".null-confirm__area, .null-confirm__no").click((function(){$(".null-confirm").removeClass("active"),$(".null-confirm__video")[0].pause()}))}));