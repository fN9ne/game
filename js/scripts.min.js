function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$(document).ready((function(){let e,t,a,l,o,n=$(".burger-menu__button"),i=$(".main-menu");function m(){$(".menu").removeClass("active"),n.removeClass("active"),n.removeClass("arrow")}n.click((function(){n.hasClass("active")?n.hasClass("arrow")?(n.removeClass("arrow"),$(".menu").removeClass("active"),i.addClass("active")):m():(n.addClass("active"),i.addClass("active"))})),$(".tab").click((function(){let e=$(this).attr("data-link");if(void 0===e);else{i.removeClass("active");for(let t=0;t<$(".menu").length;t++){let a=e+"-menu";$(".menu").eq(t).hasClass(a)&&$("."+a).addClass("active")}$(".sub-menu.active").length>0?n.addClass("arrow"):n.removeClass("arrow")}0===$(".menu.active").length&&m()})),-1==y("money")?e=0:(e=+y("money"),$("#money").html(e)),t=-1==y("dpc")?1:+y("dpc"),$("#dpc").html(t),$(".dpc").click((function(){let a=+$(this).find("span[id=dpcCost]").text(),n=+$(this).find("span[id=dpcBuff]").text();e<a?alert("not enough money"):(t+=n,e-=a,$("#dpc").html(t),b("dpc",t),$("#money").html(e),b("money",e),h=o/l*t)})),a=-1==y("current_enemy")?0:+y("current_enemy");let s,c=$(".enemy").eq(a);s=y("max_health")<=100?100:+y("max_health"),c.attr("data-health",s),l=y("health")<1?c.attr("data-health"):+y("health"),o=y("health_bar_progress")<1?100:+y("health_bar_progress");let d,r,h=o/l*t;function u(){let e=+$("#total_damage").html();if(e>1e6){$("#total_damage").addClass("million");let t=e/1e6;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e9){$("#total_damage").addClass("billion");let t=e/1e9;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e12){$("#total_damage").addClass("trillion");let t=e/1e12;$("#total_damage").html(Math.round(100*t)/100)}}d=-1==y("kills")?0:+y("kills"),$("#kills").html(d),r=-1==y("total_damage")?0:+y("total_damage"),$("#total_damage").html(r),u();const f=$(".health__current"),_=$("#max_health"),g=$("#current_health"),v=$(".enemy");function C(){console.log(l),g.html(l),_.html(s)}function k(){f.attr("data-health",o),f.css("width",o+"%")}function p(){let n=v.length;if(c.removeClass("active"),c.removeClass("defeat"),a++,b("current_enemy",a),a==n)return a=-1,p(),!1;let i=1.05*s;c.attr("data-health",i.toFixed()),c=$(".enemy").eq(a),b("max_health",i.toFixed()),l=c.attr("data-health"),o=100,h=o/l*t,s=l,C(),k(),c.addClass("active"),d++,$("#kills").html(d),b("kills",d),e++,$("#money").html(e),b("money",e)}function y(e){e+="=";let t=document.cookie.indexOf(e);if(-1==t)return-1;t+=e.length;let a=document.cookie.indexOf(";",t);return-1==a&&(a=document.cookie.length),document.cookie.substring(t,a)}function b(e,t){document.cookie=`${e}=${t};max-age=48004800;`}g.html(l),c.addClass("active"),v.each((function(e){$(this).attr("data-num",e)})),C(),k(),v.click((function(e){if(0!=g.html()){o-=h,l-=t,b("health_bar_progress",o),b("health",l),r+=+t,b("total_damage",r),$("#total_damage").html(r),u(),k(),C(),$(".minus-hp").remove(),$(this).append(`<span class="minus-hp">-${t}</span>`);let a=e.offsetX,n=e.offsetY;$(".minus-hp").css({top:n,left:a})}0==g.html()&&(c.addClass("defeat"),setTimeout(p,1e3)),g.html()<0&&(c.addClass("defeat"),setTimeout(p,1e3),g.html(0))})),$(".tab[data-link=null]").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__video").removeClass("hide"),$(".null-confirm__video")[0].play(),$(".null-confirm__sure").addClass("hide")})),$(".null-confirm__video").on("ended",(function(){$(this).addClass("hide"),$(".null-confirm__sure").removeClass("hide")})),$(".null-confirm__video")[0].volume=.4,$(".null-confirm__yes").click((function(){document.cookie="dpc=-1;max-age=-1;",document.cookie="money=-1;max-age=-1;",document.cookie="total_damage=-1;max-age=-1;",document.cookie="kills=-1;max-age=-1;",document.cookie="current_enemy=-1;max-age=-1;",document.cookie="health_bar_progress=-1;max-age=-1;",document.cookie="health=-1;max-age=-1;",document.cookie="max_health=-1;max-age=-1;"})),$(".null-confirm__area, .null-confirm__no").click((function(){$(".null-confirm").removeClass("active"),$(".null-confirm__video")[0].pause()}))}));