function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),$(document).ready((function(){let e=$(".burger-menu__button"),t=$(".main-menu");function a(){$(".menu").removeClass("active"),e.removeClass("active"),e.removeClass("arrow")}e.click((function(){e.hasClass("active")?e.hasClass("arrow")?(e.removeClass("arrow"),$(".menu").removeClass("active"),t.addClass("active")):a():(e.addClass("active"),t.addClass("active"))})),$(".tab").click((function(){let l=$(this).attr("data-link");if(void 0===l);else{t.removeClass("active");for(let e=0;e<$(".menu").length;e++){let t=l+"-menu";$(".menu").eq(e).hasClass(t)&&$("."+t).addClass("active")}$(".sub-menu.active").length>0?e.addClass("arrow"):e.removeClass("arrow")}0===$(".menu.active").length&&a()})),q("max_health")>-1&&(document.cookie="max_health=-1;max-age=-1;");let l,o,n,s,c,d,i,m=$(".shop-menu__tab");function h(){q("dpc")>=10&&m.eq(1).removeClass("hide"),q("dpc")>=50&&m.eq(2).removeClass("hide"),q("dpc")>=100&&m.eq(3).removeClass("hide"),q("dpc")>=240&&m.eq(4).removeClass("hide"),q("dpc")>=375&&m.eq(5).removeClass("hide"),q("money")>=15?$(".reload").removeClass("hide"):$(".reload").addClass("hide")}m.each((function(e){$(this).attr("data-num",e)})),h(),-1==q("update")?$(".update").addClass("active"):$(".update").removeClass("active"),$(".update__btn").click((function(){document.cookie="update=1;max-age=48004800;",w()})),-1==q("money")?l=0:(l=+q("money"),$("#money").html(l)),o=-1==q("dpc")?1:+q("dpc"),$("#dpc").html(o),$(".dpc").click((function(e){let t=+$(this).find("span[id=dpcCost]").text(),a=+$(this).find("span[id=dpcBuff]").text();if(l<t){$(this).addClass("not-enough"),$(this).append('<span class="not-enough__elipse"></span>');let t=e.offsetX,a=e.offsetY;$(".not-enough__elipse").css({top:a,left:t}),setTimeout(()=>{$(".not-enough__elipse").remove(),$(this).removeClass("not-enough")},1e3)}else $(this).hasClass("mult")?(o*=2,l-=t):(o+=a,l-=t),$("#dpc").html(o),I("dpc",o),$("#money").html(l),I("money",l),c=s/n*o,h()}));let u=$(".content");i=-1==q("cEn")?0:+q("cEn");let r,f=$(".enemy"),C=f.eq(i);d=-1==q("mh")?u.attr("data-health"):+q("mh"),s=q("hbp")<1?100:+q("hbp"),n=-1==q("health")?d:+q("health"),r=-1==q("tc")?0:+q("tc"),u.attr("data-health",d),c=s/n*o;const p=$(".health__current"),v=$("#max_health"),_=$("#current_health");function g(){_.html(n),v.html(d)}function k(){p.attr("data-health",s),p.css("width",s+"%")}function y(){if(u.attr("data-health",Math.round(1.075*u.attr("data-health"))),C.removeClass("active"),C.removeClass("defeat"),i++,i==f.length)return i=-1,y(),!1;C=f.eq(i),C.addClass("active"),I("cEn",i),u.attr("data-health")>=1e6?(l+=16,r+=16):u.attr("data-health")>=25e4?(l+=8,r+=8):u.attr("data-health")>=5e4?(l+=4,r+=4):u.attr("data-health")>=5e3&&(l+=2,r+=2),u.attr("data-health")<5e3&&(l++,r++),b++,$("#kills").html(b),I("kills",b),$("#money").html(l),I("money",l),$("#tc").html(r),I("tc",r),d=u.attr("data-health"),I("mh",d),n=d,I("health",n),s=100,c=s/n*o,g(),k(),h()}let b,x;function A(){let e=+$("#total_damage").html();if(e>1e6){$("#total_damage").addClass("million");let t=e/1e6;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e9){$("#total_damage").addClass("billion");let t=e/1e9;$("#total_damage").html(Math.round(100*t)/100)}if(e>1e12){$("#total_damage").addClass("trillion");let t=e/1e12;$("#total_damage").html(Math.round(100*t)/100)}}function w(){document.cookie="dpc=-1;max-age=-1;",document.cookie="money=-1;max-age=-1;",document.cookie="td=-1;max-age=-1;",document.cookie="kills=-1;max-age=-1;",document.cookie="hbp=-1;max-age=-1;",document.cookie="health=-1;max-age=-1;",document.cookie="mh=-1;max-age=-1;",document.cookie="cEn=-1;max-age=-1",document.cookie="tc=-1;max-age=-1"}function q(e){e+="=";let t=document.cookie.indexOf(e);if(-1==t)return-1;t+=e.length;let a=document.cookie.indexOf(";",t);return-1==a&&(a=document.cookie.length),document.cookie.substring(t,a)}function I(e,t){document.cookie=`${e}=${t};max-age=48004800;`}C.addClass("active"),g(),k(),f.click((function(e){if(0!=_.html()){s-=c,s=Math.round(1e3*s)/1e3,s<0&&(s=0),I("hbp",s),n-=o,I("health",n),x+=+o,$("#total_damage").html(x),I("td",x),A(),k(),g(),$(".minus-hp").remove(),$(this).append(`<span class="minus-hp">-${o}</span>`);let t=e.offsetX,a=e.offsetY;$(".minus-hp").css({top:a,left:t})}_.html()<=0&&(C.addClass("defeat"),setTimeout(y,1e3),_.html(0))})),$(".reload").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__sure").removeClass("hide"),$(".null-confirm__yes").removeClass("yes-null"),$(".null-confirm__yes").addClass("yes-reload")})),b=-1==q("kills")?0:+q("kills"),$("#kills").html(b),x=-1==q("td")?0:+q("td"),$("#total_damage").html(x),A(),$(".tab[data-link=null]").click((function(){$(".null-confirm").addClass("active"),$(".null-confirm__yes").addClass("yes-null"),$(".null-confirm__yes").removeClass("yes-reload"),$(".null-confirm__sure").removeClass("hide")})),$(".null-confirm__yes").click((function(){$(this).hasClass("yes-null")&&w(),$(this).hasClass("yes-reload")&&(i=0,d=u.attr("data-base"),n=d,l-=15,moneyK=l/100*30,l-=moneyK.toFixed(),dpcK=o/100*40,o-=dpcK.toFixed(),I("dpc",o),I("money",l),I("mh",d),I("health",n))})),$(".null-confirm__area, .null-confirm__no").click((function(){$(".null-confirm").removeClass("active")}))}));